{"version":3,"file":"index.umd.js","sources":["../src/components/useFetch/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nexport function useFetch(url, headers, handleErrorCode = handleError) {\n  const controller = new AbortController();\n\n  const [status, setStatus] = useState(\"idle\");\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    async function fetchData(url) {\n      setStatus(\"loading\");\n      try {\n        const res = await fetch(url, {\n          ...headers,\n          signal: controller.signal,\n        });\n        if (!res.ok) handleErrorCode(res.status);\n\n        const data = await res.json();\n        setData(data);\n        setStatus(\"success\");\n      } catch (error) {\n        setStatus(\"error\");\n        setError(error);\n        console.error(error);\n      } finally {\n        return () => controller.abort();\n      }\n    }\n    fetchData(url);\n  }, [url]);\n\n  return [data, status, error];\n}\n\nfunction handleError(code) {\n  switch (code) {\n    case 400:\n      throw new Error(\"Bad Request\");\n    case 401:\n      throw new Error(\"Request is unauthorized\");\n    case 403:\n      throw new Error(\"Request has been denied\");\n    case 404:\n      throw new Error(\"Requested data not found\");\n    case 405:\n      throw new Error(\"Method Not Allowed\");\n    case 406:\n      throw new Error(\"Not Acceptable\");\n    case 408:\n      throw new Error(\"Request Timedout\");\n    default:\n      throw new Error(\"There's been an error while retrieving data\");\n  }\n}\n"],"names":["useFetch","url","headers","handleErrorCode","handleError","controller","status","setStatus","useState","data","setData","error","setError","useEffect","fetchData","res","code"],"mappings":"0QACO,SAASA,EAASC,EAAKC,EAASC,EAAkBC,EAAa,CAC9D,MAAAC,EAAa,IAAI,gBAEjB,CAACC,EAAQC,CAAS,EAAIC,WAAS,MAAM,EACrC,CAACC,EAAMC,CAAO,EAAIF,WAAS,IAAI,EAC/B,CAACG,EAAOC,CAAQ,EAAIJ,WAAS,IAAI,EACvCK,OAAAA,EAAAA,UAAU,IAAM,CACd,eAAeC,EAAUb,EAAK,CAC5BM,EAAU,SAAS,EACf,GAAA,CACI,MAAAQ,EAAM,MAAM,MAAMd,EAAK,CAC3B,GAAGC,EACH,OAAQG,EAAW,MAAA,CACpB,EACIU,EAAI,IAAIZ,EAAgBY,EAAI,MAAM,EAEjCN,MAAAA,EAAO,MAAMM,EAAI,OACvBL,EAAQD,CAAI,EACZF,EAAU,SAAS,QACZI,EAAO,CACdJ,EAAU,OAAO,EACjBK,EAASD,CAAK,EACd,QAAQ,MAAMA,CAAK,CAAA,QACnB,CACO,MAAA,IAAMN,EAAW,OAC1B,CACF,CACAS,EAAUb,CAAG,CAAA,EACZ,CAACA,CAAG,CAAC,EAED,CAACQ,EAAMH,EAAQK,CAAK,CAC7B,CAEA,SAASP,EAAYY,EAAM,CACzB,OAAQA,EAAM,CACZ,IAAK,KACG,MAAA,IAAI,MAAM,aAAa,EAC/B,IAAK,KACG,MAAA,IAAI,MAAM,yBAAyB,EAC3C,IAAK,KACG,MAAA,IAAI,MAAM,yBAAyB,EAC3C,IAAK,KACG,MAAA,IAAI,MAAM,0BAA0B,EAC5C,IAAK,KACG,MAAA,IAAI,MAAM,oBAAoB,EACtC,IAAK,KACG,MAAA,IAAI,MAAM,gBAAgB,EAClC,IAAK,KACG,MAAA,IAAI,MAAM,kBAAkB,EACpC,QACQ,MAAA,IAAI,MAAM,6CAA6C,CACjE,CACF"}